<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"fixtures_fxVideo.js.html":{"id":"fixtures_fxVideo.js.html","title":"Source: fixtures/fxVideo.js","body":" GlaceJS Namespaces GlaceConfig Modules fixtures/indexglobalsindex Classes VideoRecorder Mixins VideoSteps Tutorials Release Notes Global fxVideofxVideoFuncpluginHelpscope Source: fixtures/fxVideo.js &quot;use strict&quot;; const _ = require(&quot;lodash&quot;); const U = require(&quot;glace-utils&quot;); const CONF = require(&quot;../config&quot;); const beforeCb = opts =&gt; ctx =&gt; async () =&gt; { ctx.isErrorHappened = false; ctx.lastTestErr = getLastTestErr(); ctx.lastSessErr = _.nth(CONF.session.errors, -1); ctx.isStarted = await $.startVideo(opts); }; const afterChunkCb = ctx =&gt; () =&gt; { if (ctx.isErrorHappened) return; if (ctx.lastTestErr !== getLastTestErr()) { ctx.isErrorHappened = true; return; } if (ctx.lastSessErr !== _.nth(CONF.session.errors, -1)) { ctx.isErrorHappened = true; return; } }; const afterCb = opts =&gt; ctx =&gt; async () =&gt; { if (!ctx.isStarted) return; const videoPath = await $.stopVideo(); if (ctx.isErrorHappened || CONF.video.save || opts.save) { allure.attachVideo(&quot;video&quot;, videoPath); } else { await $.removeVideo(); } }; const getLastTestErr = () =&gt; CONF.test.curCase ? _.nth(CONF.test.curCase.errors, -1) : undefined; /** * Callable fixture to capture tests video. * * @global * @function * @prop {string} [dir] - Video file folder. * @prop {string} [name] - Video file name. */ const fxVideoFunc = (opts = {}) =&gt; U.makeFixture({ before: beforeCb(opts), after: afterCb(opts), afterChunk: afterChunkCb, }); /** * Fixture to capture tests video. * * @global * @function * @arg {function} func - Test funciton. */ const fxVideo = fxVideoFunc(); module.exports = { fxVideo, fxVideoFunc }; × Search results Close "},"config.js.html":{"id":"config.js.html","title":"Source: config.js","body":" GlaceJS Namespaces GlaceConfig Modules fixtures/indexglobalsindex Classes VideoRecorder Mixins VideoSteps Tutorials Release Notes Global fxVideofxVideoFuncpluginHelpscope Source: config.js &quot;use strict&quot;; /** * Configures `Video` plugin. Extends `GlaceJS` configuration. * * @namespace GlaceConfig * @prop {object} video - `Video` options. * @prop {boolean} [video.capture=false] - Flag to capture video. * @prop {boolean} [video.save=false] - Flag to save video for passed tests too. */ var U = require(&quot;glace-utils&quot;); var config = U.config; var args = config.args; if (process.platform === &quot;win32&quot;) { require(&quot;binary&quot;).activateFFmpeg(); }; config.video = U.defVal(config.video, {}); config.video.capture = U.defVal(args.video, args.videoSave, false); config.video.save = U.defVal(args.videoSave, false); module.exports = config; × Search results Close "},"fixtures_index.js.html":{"id":"fixtures_index.js.html","title":"Source: fixtures/index.js","body":" GlaceJS Namespaces GlaceConfig Modules fixtures/indexglobalsindex Classes VideoRecorder Mixins VideoSteps Tutorials Release Notes Global fxVideofxVideoFuncpluginHelpscope Source: fixtures/index.js &quot;use strict&quot;; /** * Video fixtures. * * @module */ global.fxVideo = require(&quot;./fxVideo&quot;).fxVideo; global.fxVideoFunc = require(&quot;./fxVideo&quot;).fxVideoFunc; × Search results Close "},"globals.js.html":{"id":"globals.js.html","title":"Source: globals.js","body":" GlaceJS Namespaces GlaceConfig Modules fixtures/indexglobalsindex Classes VideoRecorder Mixins VideoSteps Tutorials Release Notes Global fxVideofxVideoFuncpluginHelpscope Source: globals.js &quot;use strict&quot;; /** * `Glace video` globals. * * @module */ const _ = require(&quot;lodash&quot;); const U = require(&quot;glace-utils&quot;); const CONF = require(&quot;./config&quot;); const gScope = global.scope; /** * Extends `scope` function by addition options to manage video recording. * Cause it overrides `scope`, all functions, which use global `scope` inside, * can pass its options as well. * * @global * @function scope * @arg {string} name - Scope name. * @arg {function[]} [fixtures] - List of fixtures. * @arg {object} [opts] - Options, which extends basic options. * @arg {string} [opts.videoName] - Name of video file. * @arg {string} [opts.videoDir] - Folder to save video file. * @arg {boolean} [opts.videoSave] - Flag to save video even if all is passed inside. * @arg {boolean} [opts.video] - Flag to capture video with default options. * Used if above options are missed. * @arg {function} func - Callback with tests or chunks. */ const _scope = (name, fixtures, opts, func) =&gt; { if (_.isFunction(opts)) [func, opts] = [opts]; if (_.isPlainObject(fixtures)) [opts, fixtures] = [fixtures]; if (_.isFunction(fixtures)) [func, fixtures] = [fixtures]; fixtures = fixtures || []; opts = opts || {}; const video = !!U.defVal( opts.video, opts.videoName, opts.videoDir, opts.videoSave, false); if (video || CONF.video.capture) { if (!fixtures.includes(fxVideo)) { fixtures = [fxVideoFunc({ name: opts.videoName, dir: opts.videoDir, save: opts.videoSave, })].concat(fixtures); } } gScope(name, fixtures, opts, func); }; global.scope = _scope; × Search results Close "},"index.js.html":{"id":"index.js.html","title":"Source: index.js","body":" GlaceJS Namespaces GlaceConfig Modules fixtures/indexglobalsindex Classes VideoRecorder Mixins VideoSteps Tutorials Release Notes Global fxVideofxVideoFuncpluginHelpscope Source: index.js &quot;use strict&quot;; /** * `GlaceJS Video` plugin. * * @module */ var config, globals, pluginHelp, Steps; Object.defineProperties(exports, { /** * @type {GlaceConfig} */ config: { get: function () { config = config || require(&quot;./config&quot;); return config; }, }, globals: { get: function () { globals = globals || require(&quot;./globals&quot;); return globals; }, }, /** * @type {pluginHelp} */ pluginHelp: { get: function () { pluginHelp = pluginHelp || require(&quot;./pluginHelp&quot;); return pluginHelp; } }, /** * @type {VideoSteps} */ Steps: { get: function () { Steps = Steps || require(&quot;./steps&quot;); return Steps; }, }, }); × Search results Close "},"pluginHelp.js.html":{"id":"pluginHelp.js.html","title":"Source: pluginHelp.js","body":" GlaceJS Namespaces GlaceConfig Modules fixtures/indexglobalsindex Classes VideoRecorder Mixins VideoSteps Tutorials Release Notes Global fxVideofxVideoFuncpluginHelpscope Source: pluginHelp.js &quot;use strict&quot;; /** * `Video` plugin help. * * @function * @name pluginHelp * @arg {yargs} yargs - `yargs` instance in order to expand its options. * @arg {function} d - Function to manage option description: join, colorize, etc. * @return {yargs} - Expanded `yargs` instance. */ module.exports = (args, d) =&gt; { return args .options({ &quot;video&quot;: { describe: d(&quot;Capture video of executed tests.&quot;, &quot;Video will be removed if test is passed.&quot;), type: &quot;boolean&quot;, group: &quot;Video:&quot;, }, &quot;video-save&quot;: { describe: d(&quot;Capture video of executed tests.&quot;, &quot;Video will be saved even if test is passed.&quot;), type: &quot;boolean&quot;, group: &quot;Video:&quot;, }, }); }; × Search results Close "},"video.js.html":{"id":"video.js.html","title":"Source: video.js","body":" GlaceJS Namespaces GlaceConfig Modules fixtures/indexglobalsindex Classes VideoRecorder Mixins VideoSteps Tutorials Release Notes Global fxVideofxVideoFuncpluginHelpscope Source: video.js &quot;use strict&quot;; /** * Creates a new instance of VideoRecorder. * * @class * @name VideoRecorder * @classdesc contains methods to record video for tests * @arg {object} [opts] - Options. * @arg {object} [opts._process] - Injected `process` module. * @arg {object} [opts._which] - Injected `which` module. * @arg {object} [opts._spawn] - Injected `spawn` module. * @property {boolean} [isRunning=false] - flag is video recorder running or no * @property {?string} [filePath=null] - path video file */ var path = require(&quot;path&quot;); var spawn = require(&quot;cross-spawn&quot;); var which = require(&quot;which&quot;); var U = require(&quot;glace-utils&quot;); var LOG = U.logger; var VideoRecorder = function (opts) { opts = U.defVal(opts, {}); this.isRunning = false; this.filePath = null; this._process = null; this._recordOpts = null; this.__process = U.defVal(opts._process, process); this.__which = U.defVal(opts._which, which); this.__spawn = U.defVal(opts._spawn, spawn); }; /** * Configures video recorder. * * @method * @arg {object} [opts] - recorder configuration * @arg {string} [opts.path] - video file path * @arg {number} [opts.fps=30] - video framerate * @arg {number} [opts.width=1024] - video width * @arg {number} [opts.height=768] - video height * @arg {number} [opts.x=0] - `X`-offset on display * @arg {number} [opts.y=0] - `Y`-offset on display */ VideoRecorder.prototype.configure = function (opts) { opts = U.defVal(opts, {}); opts.fps = U.defVal(opts.fps, 30); opts.width = U.defVal(opts.width, 1024); opts.height = U.defVal(opts.height, 768); opts.x = U.defVal(opts.x, 0); opts.y = U.defVal(opts.y, 0); opts.size = opts.width + &quot;x&quot; + opts.height; this.filePath = U.defVal(opts.path, path.resolve(U.cwd, &quot;out.avi&quot;)); if (this.__process.platform === &quot;win32&quot;) { this.__which.sync(&quot;ffmpeg&quot;); this._recordCmd = &quot;ffmpeg&quot;; this._recordOpts = [ &quot;-y&quot;, &quot;-loglevel&quot;, &quot;quiet&quot;, &quot;-video_size&quot;, opts.size, &quot;-offset_x&quot;, opts.x, &quot;-offset_y&quot;, opts.y, &quot;-draw_mouse&quot;, 0, &quot;-framerate&quot;, opts.fps, &quot;-f&quot;, &quot;gdigrab&quot;, &quot;-i&quot;, &quot;desktop&quot;, &quot;-vcodec&quot;, &quot;libx264&quot;, this.filePath ]; } else if (this.__process.platform === &quot;linux&quot;) { if (this.__which.sync(&quot;avconv&quot;, { nothrow: true })) { this._recordCmd = &quot;avconv&quot;; } else if (this.__which.sync(&quot;ffmpeg&quot;, { nothrow: true })) { this._recordCmd = &quot;ffmpeg&quot;; } else { throw new Error(&quot;not found: avconv or ffmpeg&quot;); }; this._recordOpts = [ &quot;-y&quot;, &quot;-loglevel&quot;, &quot;quiet&quot;, &quot;-f&quot;, &quot;x11grab&quot;, &quot;-r&quot;, opts.fps, &quot;-s&quot;, opts.size, &quot;-i&quot;, `${process.env.DISPLAY}+${opts.x},${opts.y}`, &quot;-codec&quot;, &quot;libx264&quot;, this.filePath ]; } else if (this.__process.platform === &quot;darwin&quot;) { this.__which.sync(&quot;ffmpeg&quot;); this._recordCmd = &quot;ffmpeg&quot;; this._recordOpts = [ &quot;-y&quot;, &quot;-loglevel&quot;, &quot;quiet&quot;, &quot;-f&quot;, &quot;avfoundation&quot;, &quot;-r&quot;, opts.fps, &quot;-i&quot;, &quot;1:&quot;, &quot;-vsync&quot;, 2, this.filePath ]; } else { throw new Error(&quot;Video capture isn't supported &quot; + `on platform '${this.__process.platform}'`); }; }; /** * Starts video recorder. * * @method * @throws {Error} if video recorder is started already * @throws {Error} if video recorder isn't configured yet */ VideoRecorder.prototype.start = function () { if (this.isRunning) return; if (!this._recordOpts) throw new Error(&quot;Video recorder isn't configured yet&quot;); this._process = this.__spawn(this._recordCmd, this._recordOpts, { killSignal: &quot;SIGINT&quot; }); this.isRunning = true; }; /** * Stops video recorder. * * @method * @throws {Error} if video recorder isn't started yet */ VideoRecorder.prototype.stop = function () { if (!this.isRunning) return; return new Promise((resolve, reject) =&gt; { this._process.once(&quot;exit&quot;, (code, signal) =&gt; { LOG.debug(`${this._recordCmd} was stopped with code ${code} and signal ${signal}`); this.isRunning = false; resolve(); }); this._process.once(&quot;error&quot;, reject); var result = this._process.kill(&quot;SIGINT&quot;); if (!result) reject(new Error(`Oops! Can't kill ${this._recordCmd}`)); }); }; module.exports = VideoRecorder; × Search results Close "},"steps.js.html":{"id":"steps.js.html","title":"Source: steps.js","body":" GlaceJS Namespaces GlaceConfig Modules fixtures/indexglobalsindex Classes VideoRecorder Mixins VideoSteps Tutorials Release Notes Global fxVideofxVideoFuncpluginHelpscope Source: steps.js &quot;use strict&quot;; /** * Steps for video recording. * * @mixin VideoSteps * @prop {VideoRecorder} video - Video recorder instance. */ var fs = require(&quot;fs&quot;); var path = require(&quot;path&quot;); var _ = require(&quot;lodash&quot;); var expect = require(&quot;chai&quot;).expect; var resolution = require(&quot;screen-resolution&quot;); var uuid = require(&quot;uuid/v4&quot;); var U = require(&quot;glace-utils&quot;); var LOG = U.logger; require(&quot;./fixtures&quot;); var VideoRecorder = require(&quot;./video&quot;); var VideoSteps = { /* modules */ __fs: fs, __resolution: resolution, __VideoRecorder: VideoRecorder, startVideo: async function (opts) { /** * Step to start video recording. Step recall will be skipped if video * recording wasn't stopped before. * * @async * @memberOf VideoSteps * @method startVideo * @instance * @arg {object} [opts] - Step options. * @arg {string} [opts.name] - File name. Extension `.avi` will be * added automatically. Default name will be generated with `uuid` * algorithm. * @arg {string} [opts.dir] - Folder to save video. * @arg {boolean} [opts.check=true] - Flag to check that video recording * was launched. * @return {Promise&lt;boolean&gt;} `true` if step was executed, `false` if * was skipped. * @throws {AssertionError} If video recording wasn't launched. */ if (this._isVideoStarted) { LOG.warn(&quot;Step to start video recording was passed already&quot;); return false; }; opts = U.defVal(opts, {}); var check = U.defVal(opts.check, true); LOG.info(&quot;Starting video recording...&quot;); this.video = this.video || new this.__VideoRecorder(); var videoOpts = await this._videoLocation(); videoOpts.path = this._makeVideoPath(opts); allure.step(`Record video to ${videoOpts.path}`); this.video.configure(videoOpts); this.video.start(); await this.pause(1, &quot;it needs a time to start recording&quot;); if (check) { expect(this.video.isRunning, &quot;Video recording wasn't launched&quot;) .to.be.true; }; this._isVideoStarted = true; LOG.info(&quot;Video recording is started&quot;); allure.pass(); return true; }, stopVideo: async function (opts) { /** * Step to stop video recording. Step call will be skipped if video * recording wasn't launched before. * * @async * @memberOf VideoSteps * @method stopVideo * @instance * @arg {object} [opts] - Step options. * @arg {boolean} [opts.check=true] - Flag to check that video recording * was stopped. * @return {Promise&lt;string&gt;} Path to recorded video. * @return {Promise&lt;boolean&gt;} `false` if step was skipped. * @throws {AssertionError} If video recording wasn't stopped. */ if (!this._isVideoStarted) { LOG.warn(&quot;Step to start video recording wasn't passed yet&quot;); return false; }; opts = U.defVal(opts, {}); var check = U.defVal(opts.check, true); allure.step(&quot;Stop video recording&quot;); LOG.info(&quot;Stopping video recording...&quot;); await this.pause(1, &quot;it needs a time to gather latest frames&quot;); await this.video.stop(); if (check) { expect(this.video.isRunning, &quot;Video recording was still running&quot;) .to.be.false; }; this._isVideoStarted = false; LOG.info(&quot;Video recording is stopped&quot;); allure.pass(); return this.video.filePath; }, getVideo: function (opts) { /** * Step to get path to recorded video. * * @memberOf VideoSteps * @method getVideo * @instance * @arg {object} [opts] - Step options. * @arg {boolean} [opts.check=true] - Flag to check that video is recorded * and path exists. * @return {string} Path to recorded video. */ allure.step(&quot;Get video file&quot;); expect(this.video, &quot;Video recorder isn't initialized&quot;).to.exist; opts = U.defVal(opts, {}); var check = U.defVal(opts.check, true); LOG.info(&quot;Getting recorded video path...&quot;); if (check) { expect(this.video.isRunning, &quot;Can't get recorded video file path, &quot; + &quot;because video is still recording&quot;).to.be.false; expect(this.video.filePath, &quot;Can't get recorded video file path, &quot; + &quot;because it's empty&quot;).to.not.be.empty; }; LOG.info(&quot;Recorded video path is got&quot;); allure.pass(); return this.video.filePath; }, removeVideo: function (opts) { /** * Step to remove recorded video. * * @memberOf VideoSteps * @method removeVideo * @instance * @arg {object} [opts] - Step options. * @arg {boolean} [opts.check=true] - Flag to check step result. * @return {boolean} `true` if step was executed, `false` if was skipped. * @throws {AssertionError} If video file wasn't removed. */ if (!this.video.filePath || !this.__fs.existsSync(this.video.filePath)) { LOG.warn(&quot;Video file doesn't exist&quot;); return false; }; opts = U.defVal(opts, {}); var check = U.defVal(opts.check, true); allure.step(&quot;Remove recorded video&quot;); LOG.info(&quot;Removing recorded video file...&quot;); this.__fs.unlinkSync(this.video.filePath); if (check) { expect(this.__fs.existsSync(this.video.filePath), `Video file '${this.video.filePath}' wasn't removed`) .to.be.false; }; LOG.info(&quot;Recorded video file is removed&quot;); allure.pass(); return true; }, /** * Helper to get video location. * * @async * @method * @instance * @protected * @return {Promise&lt;object&gt;} Dict of location. */ _videoLocation: async function () { var loc = {}; var screen = await this.__resolution.get(); var screenLoc = { x: 0, y: 0, width: screen.width, height: screen.height }; if (this.webdriver &amp;&amp; await this.webdriver.session()) { _.assign(loc, (await this.webdriver.windowHandlePosition()).value); _.assign(loc, (await this.webdriver.windowHandleSize()).value); expect(U.isInScreen(loc, screenLoc), &quot;Browser is outside of screen&quot;).to.be.true; if (loc.x &lt; 0) loc.x = 0; if (loc.y &lt; 0) loc.y = 0; if (loc.x + loc.width &gt; screen.width) { loc.width = screen.width - loc.x; }; if (loc.y + loc.height &gt; screen.height) { loc.height = screen.height - loc.y; }; } else { loc = screenLoc; }; expect(loc.width, &quot;Invalid video width&quot;).to.be.above(0); expect(loc.height, &quot;Invalid video height&quot;).to.be.above(0); return loc; }, /** * Helper to make video path. * * @method * @instance * @protected * @arg {object} [opts] - Step options. * @arg {string} [opts.name] - File name. Extension `.avi` will be * added automatically. Default name will be generated with `uuid` * algorithm. * @arg {string} [opts.dir] - Folder to save video. * @return {string} Full video path. */ _makeVideoPath: function (opts) { opts = U.defVal(opts, {}); var fileName = U.toKebab(U.defVal(opts.name, uuid())); if (!fileName.endsWith(&quot;.avi&quot;)) fileName += &quot;.avi&quot;; return U.mkpath( U.defVal(opts.dir, path.resolve(CONF.report.testDir || CONF.report.dir, &quot;videos&quot;)), fileName); }, }; module.exports = VideoSteps; × Search results Close "},"global.html":{"id":"global.html","title":"Global","body":" GlaceJS Namespaces GlaceConfig Modules fixtures/indexglobalsindex Classes VideoRecorder Mixins VideoSteps Tutorials Release Notes Global fxVideofxVideoFuncpluginHelpscope Global Methods fxVideo(func) Fixture to capture tests video. Parameters: Name Type Description func function Test funciton. Source: fixtures/fxVideo.js, line 64 fxVideoFunc() Callable fixture to capture tests video. Properties: Name Type Argument Description dir string &lt;optional&gt; Video file folder. name string &lt;optional&gt; Video file name. Source: fixtures/fxVideo.js, line 51 pluginHelp(yargs, d) Video plugin help. Parameters: Name Type Description yargs yargs yargs instance in order to expand its options. d function Function to manage option description: join, colorize, etc. Source: pluginHelp.js, line 2 Returns: Expanded yargs instance. Type yargs scope(name [, fixtures] [, opts], func) Extends scope function by addition options to manage video recording. Cause it overrides scope, all functions, which use global scope inside, can pass its options as well. Parameters: Name Type Argument Description name string Scope name. fixtures Array.&lt;function()&gt; &lt;optional&gt; List of fixtures. opts object &lt;optional&gt; Options, which extends basic options. Properties Name Type Argument Description videoName string &lt;optional&gt; Name of video file. videoDir string &lt;optional&gt; Folder to save video file. videoSave boolean &lt;optional&gt; Flag to save video even if all is passed inside. video boolean &lt;optional&gt; Flag to capture video with default options. Used if above options are missed. func function Callback with tests or chunks. Source: globals.js, line 16 × Search results Close "},"modules.list.html":{"id":"modules.list.html","title":"Modules","body":" GlaceJS Namespaces GlaceConfig Modules fixtures/indexglobalsindex Classes VideoRecorder Mixins VideoSteps Tutorials Release Notes Global fxVideofxVideoFuncpluginHelpscope Modules Classes VideoRecorder Mixins VideoSteps Namespaces GlaceConfig × Search results Close "},"classes.list.html":{"id":"classes.list.html","title":"Classes","body":" GlaceJS Namespaces GlaceConfig Modules fixtures/indexglobalsindex Classes VideoRecorder Mixins VideoSteps Tutorials Release Notes Global fxVideofxVideoFuncpluginHelpscope Classes Classes VideoRecorder Mixins VideoSteps Namespaces GlaceConfig × Search results Close "},"namespaces.list.html":{"id":"namespaces.list.html","title":"Namespaces","body":" GlaceJS Namespaces GlaceConfig Modules fixtures/indexglobalsindex Classes VideoRecorder Mixins VideoSteps Tutorials Release Notes Global fxVideofxVideoFuncpluginHelpscope Namespaces Classes VideoRecorder Mixins VideoSteps Namespaces GlaceConfig × Search results Close "},"mixins.list.html":{"id":"mixins.list.html","title":"Mixins","body":" GlaceJS Namespaces GlaceConfig Modules fixtures/indexglobalsindex Classes VideoRecorder Mixins VideoSteps Tutorials Release Notes Global fxVideofxVideoFuncpluginHelpscope Mixins Classes VideoRecorder Mixins VideoSteps Namespaces GlaceConfig × Search results Close "},"tutorials.list.html":{"id":"tutorials.list.html","title":"Tutorials","body":" GlaceJS Namespaces GlaceConfig Modules fixtures/indexglobalsindex Classes VideoRecorder Mixins VideoSteps Tutorials Release Notes Global fxVideofxVideoFuncpluginHelpscope Tutorials Classes VideoRecorder Mixins VideoSteps Namespaces GlaceConfig × Search results Close "},"index.html":{"id":"index.html","title":"Index","body":" GlaceJS Namespaces GlaceConfig Modules fixtures/indexglobalsindex Classes VideoRecorder Mixins VideoSteps Tutorials Release Notes Global fxVideofxVideoFuncpluginHelpscope | Source Code | Release Notes GlaceJS Video pluginProvides steps for GlaceJS framework to capture video of executed tests. Features Video capture and video management. Requirements Installed ffmpeg or avconv on unix systems (on windows it will be installed with plugin). How to installnpm i glace-videoHow to usevar glaceVideo = require(&quot;glace-video&quot;); glaceVideo.Steps; glaceVideo.config;If plugin is used as a part of GlaceJS it will be loaded automatically. CLI options --video - Use video capture for launched autotests. --video-save - Save video for all tests (by default for failed only). API config fixtures steps Test examplesSee integration tests in order to explore examples. Tests and quality Project tests report is here Code coverage report is here × Search results Close "},"GlaceConfig.html":{"id":"GlaceConfig.html","title":"Namespace: GlaceConfig","body":" GlaceJS Namespaces GlaceConfig Modules fixtures/indexglobalsindex Classes VideoRecorder Mixins VideoSteps Tutorials Release Notes Global fxVideofxVideoFuncpluginHelpscope Namespace: GlaceConfig GlaceConfig Configures Video plugin. Extends GlaceJS configuration. Properties: Name Type Description video object Video options. Properties Name Type Argument Default Description capture boolean &lt;optional&gt; false Flag to capture video. save boolean &lt;optional&gt; false Flag to save video for passed tests too. Source: config.js, line 2 × Search results Close "},"module-fixtures_index.html":{"id":"module-fixtures_index.html","title":"Module: fixtures/index","body":" GlaceJS Namespaces GlaceConfig Modules fixtures/indexglobalsindex Classes VideoRecorder Mixins VideoSteps Tutorials Release Notes Global fxVideofxVideoFuncpluginHelpscope Module: fixtures/index Video fixtures. Source: fixtures/index.js, line 3 × Search results Close "},"module-globals.html":{"id":"module-globals.html","title":"Module: globals","body":" GlaceJS Namespaces GlaceConfig Modules fixtures/indexglobalsindex Classes VideoRecorder Mixins VideoSteps Tutorials Release Notes Global fxVideofxVideoFuncpluginHelpscope Module: globals Glace video globals. Source: globals.js, line 3 × Search results Close "},"module-index.html":{"id":"module-index.html","title":"Module: index","body":" GlaceJS Namespaces GlaceConfig Modules fixtures/indexglobalsindex Classes VideoRecorder Mixins VideoSteps Tutorials Release Notes Global fxVideofxVideoFuncpluginHelpscope Module: index GlaceJS Video plugin. Source: index.js, line 2 Members &lt;inner&gt; config :GlaceConfig Type: GlaceConfig Source: index.js, line 14 &lt;inner&gt; pluginHelp :pluginHelp Type: pluginHelp Source: index.js, line 29 &lt;inner&gt; Steps :VideoSteps Type: VideoSteps Source: index.js, line 38 × Search results Close "},"VideoRecorder.html":{"id":"VideoRecorder.html","title":"Class: VideoRecorder","body":" GlaceJS Namespaces GlaceConfig Modules fixtures/indexglobalsindex Classes VideoRecorder Mixins VideoSteps Tutorials Release Notes Global fxVideofxVideoFuncpluginHelpscope Class: VideoRecorder VideoRecorder contains methods to record video for tests new VideoRecorder( [opts]) Creates a new instance of VideoRecorder. Parameters: Name Type Argument Description opts object &lt;optional&gt; Options. Properties Name Type Argument Description _process object &lt;optional&gt; Injected process module. _which object &lt;optional&gt; Injected which module. _spawn object &lt;optional&gt; Injected spawn module. Properties: Name Type Argument Default Description isRunning boolean &lt;optional&gt; false flag is video recorder running or no filePath string &lt;optional&gt; &lt;nullable&gt; null path video file Source: video.js, line 2 Methods configure( [opts]) Configures video recorder. Parameters: Name Type Argument Description opts object &lt;optional&gt; recorder configuration Properties Name Type Argument Default Description path string &lt;optional&gt; video file path fps number &lt;optional&gt; 30 video framerate width number &lt;optional&gt; 1024 video width height number &lt;optional&gt; 768 video height x number &lt;optional&gt; 0 X-offset on display y number &lt;optional&gt; 0 Y-offset on display Source: video.js, line 48 start() Starts video recorder. Source: video.js, line 116 Throws: if video recorder is started already Type Error if video recorder isn't configured yet Type Error stop() Stops video recorder. Source: video.js, line 131 Throws: if video recorder isn't started yet Type Error × Search results Close "},"VideoSteps.html":{"id":"VideoSteps.html","title":"Mixin: VideoSteps","body":" GlaceJS Namespaces GlaceConfig Modules fixtures/indexglobalsindex Classes VideoRecorder Mixins VideoSteps Tutorials Release Notes Global fxVideofxVideoFuncpluginHelpscope Mixin: VideoSteps VideoSteps Steps for video recording. Properties: Name Type Description video VideoRecorder Video recorder instance. Source: steps.js, line 2 Methods &lt;protected&gt; _makeVideoPath( [opts]) Helper to make video path. Parameters: Name Type Argument Description opts object &lt;optional&gt; Step options. Properties Name Type Argument Description name string &lt;optional&gt; File name. Extension .avi will be added automatically. Default name will be generated with uuid algorithm. dir string &lt;optional&gt; Folder to save video. Source: steps.js, line 260 Returns: Full video path. Type string &lt;async, protected&gt; _videoLocation() Helper to get video location. Source: steps.js, line 212 Returns: Dict of location. Type Promise.&lt;object&gt; getVideo( [opts]) Step to get path to recorded video. Parameters: Name Type Argument Description opts object &lt;optional&gt; Step options. Properties Name Type Argument Default Description check boolean &lt;optional&gt; true Flag to check that video is recorded and path exists. Source: steps.js, line 129 Returns: Path to recorded video. Type string removeVideo( [opts]) Step to remove recorded video. Parameters: Name Type Argument Description opts object &lt;optional&gt; Step options. Properties Name Type Argument Default Description check boolean &lt;optional&gt; true Flag to check step result. Source: steps.js, line 167 Throws: If video file wasn't removed. Type AssertionError Returns: true if step was executed, false if was skipped. Type boolean &lt;async&gt; startVideo( [opts]) Step to start video recording. Step recall will be skipped if video recording wasn't stopped before. Parameters: Name Type Argument Description opts object &lt;optional&gt; Step options. Properties Name Type Argument Default Description name string &lt;optional&gt; File name. Extension .avi will be added automatically. Default name will be generated with uuid algorithm. dir string &lt;optional&gt; Folder to save video. check boolean &lt;optional&gt; true Flag to check that video recording was launched. Source: steps.js, line 29 Throws: If video recording wasn't launched. Type AssertionError Returns: true if step was executed, false if was skipped. Type Promise.&lt;boolean&gt; &lt;async&gt; stopVideo( [opts]) Step to stop video recording. Step call will be skipped if video recording wasn't launched before. Parameters: Name Type Argument Description opts object &lt;optional&gt; Step options. Properties Name Type Argument Default Description check boolean &lt;optional&gt; true Flag to check that video recording was stopped. Source: steps.js, line 84 Throws: If video recording wasn't stopped. Type AssertionError Returns: Path to recorded video. Type Promise.&lt;string&gt; false if step was skipped. Type Promise.&lt;boolean&gt; × Search results Close "},"tutorial-release-notes.html":{"id":"tutorial-release-notes.html","title":"Tutorial: Release Notes","body":" GlaceJS Namespaces GlaceConfig Modules fixtures/indexglobalsindex Classes VideoRecorder Mixins VideoSteps Tutorials Release Notes Global fxVideofxVideoFuncpluginHelpscope Release Notes v1.2.3 Updated dependencies to fresh versions. v1.2.2 Used fixtures factory. v1.2.1 Updated dependencies. v1.2.0 Updated glace-core. Started to use $ only. v1.1.9 Adapted for slaves mechanism. v1.1.8 Started to support video capture on macos. v1.1.7 Fixed bug that forEachLanguage iterator tried to process context instead of name. v1.1.6 Migrate to new glace-core. v1.1.5 Updated dependencies. v1.1.4 Added steps logging. v1.1.3 Added allure steps. v1.1.2 Fixed wrong file path of recorded video. v1.1.1 Added project workflow commands. Logged steps. v1.1.0 Used docstring style in steps. v1.0.9 Fixed bug that test and forEachLanguage options may be as null. v1.0.8 Fixed bug that fixture undefined parameters were passed as null. v1.0.7 Fixed bug that globals wasn't available outside. v1.0.6 Added video options for functions test &amp; forEachLanguage. v1.0.5 Make options --video &amp; --video-save interchangeable. v1.0.4 Covered with tests. × Search results Close "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
